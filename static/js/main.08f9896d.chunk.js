(this["webpackJsonpsender-wallet-dapp-example"]=this["webpackJsonpsender-wallet-dapp-example"]||[]).push([[0],{126:function(e,n,t){},128:function(e,n,t){"use strict";t.r(n);var r=t(9),s=t.n(r),a=t(58),c=t.n(a),o=(t(63),t(0)),i=t.n(o),u=t(7),d=t(27),l=t(12),p=(t(126),t(1)),w=(0,l.utils.format.parseNearAmount)("0.00125"),f="dev-1635836502908-29682237937904",g="wrap.testnet",h={network:"testnet",networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org"},x=function(){var e=Object(r.useState)({}),n=Object(d.a)(e,2),t=n[0],s=n[1],a=Object(r.useState)(""),c=Object(d.a)(a,2),o=c[0],x=c[1],j=Object(r.useState)(""),b=Object(d.a)(j,2),m=b[0],v=b[1];Object(r.useEffect)((function(){window.near&&setTimeout((function(){window.near.on("signIn",(function(e){console.log("signIn res: ",e)})),window.near.on("signOut",(function(e){console.log("signOut res: ",e)})),window.near.on("accountChanged",(function(e){console.log("newAccountId: ",e)})),window.near.on("rpcChanged",(function(e){console.log("rpc: ",e)}))}),1e3)}),[window&&window.near]);var y=function(){var e=Object(u.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.near.requestSignIn({contractId:f,methodNames:[]});case 3:n=e.sent,console.log("signin res: ",n),n.error||(n&&n.accessKey?(s(n.accessKey),x(window.near.accountId)):console.log("res: ",n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.near.disconnect();case 2:n=e.sent,console.log("signout res: ",n),s({}),x("");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(i.a.mark((function e(){var n,r,s,a,c,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.secretKey){e.next=20;break}return n=window.near.getAccountId(),r=new l.keyStores.InMemoryKeyStore,s=l.KeyPair.fromString(t.secretKey),e.next=7,r.setKey("testnet",n,s);case 7:return e.next=9,l.connect(Object.assign({deps:{keyStore:r}},h));case 9:return a=e.sent,e.next=12,a.account(n);case 12:return c=e.sent,o=new l.Contract(c,f,{viewMethods:["whoSaidHi"],changeMethods:["sayHi"]}),e.next=16,o.sayHi();case 16:u=e.sent,console.log("Say Hi response: ",u),e.next=21;break;case 20:console.log("please await access to set");case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log("sayHi error: ",e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.near.account().viewFunction(f,"whoSaidHi");case 2:n=e.sent,console.log("Who Saied Hi response: ",n),v(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.near.sendMoney({receiverId:"amazingbeerbelly-2.testnet",amount:"100000000000000000000000"});case 2:n=e.sent,console.log("send near response: ",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(i.a.mark((function e(n){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.near.account().viewFunction(g,"storage_balance_of",{account_id:window.near.accountId});case 2:return(t=e.sent).error||(console.log("res: ",t),t.total!==w&&n.unshift({methodName:"storage_deposit",args:{registration_only:!0},deposit:"1250000000000000000000"})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(i.a.mark((function e(){var n,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{methodName:"near_deposit",args:{},deposit:"100000000000000000000000"}],e.next=3,N(n);case 3:return n=e.sent,e.next=6,window.near.signAndSendTransaction({receiverId:g,actions:n});case 6:t=e.sent,console.log("Swap NEAR to wNEAR response: ",t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.near.signAndSendTransaction({receiverId:g,actions:[{methodName:"ft_transfer",args:{receiver_id:"amazingbeerbelly-2.testnet",amount:"100000000000000000000000"},deposit:"1"}]});case 2:n=e.sent,console.log("Send wNEAR response: ",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(i.a.mark((function e(){var n,t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{methodName:"near_deposit",args:{},deposit:"100000000000000000000000"},{methodName:"ft_transfer",args:{receiver_id:"amazingbeerbelly-2.testnet",amount:"100000000000000000000000"},deposit:"1"}],e.next=3,N(n);case 3:return n=e.sent,t={receiverId:g,actions:n},e.next=7,window.near.signAndSendTransaction(t);case 7:r=e.sent,console.log("Swap and Send wNEAR with multiple actions response: ",r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(u.a)(i.a.mark((function e(){var n,t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{methodName:"near_deposit",args:{},deposit:"100000000000000000000000"}],e.next=3,N(n);case 3:return n=e.sent,t=[{receiverId:g,actions:n},{receiverId:g,actions:[{methodName:"ft_transfer",args:{receiver_id:"amazingbeerbelly-2.testnet",amount:"1000000000000000000"},deposit:"1"}]}],e.next=7,window.near.requestSignTransactions({transactions:t});case 7:r=e.sent,console.log("Swap and Send wNEAR with requestSignTransactions response: ",r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"App",children:[t.secretKey?Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{children:["Connected account id: ",o]}),Object(p.jsxs)("div",{children:["Signed access key (secretKey): ",t.secretKey.slice(0,16),"..."]}),Object(p.jsx)("button",{style:{marginTop:"20px"},onClick:O,children:"Sign out"})]}):Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsxs)("div",{children:["Connected account id: ",o]})}),Object(p.jsx)("button",{style:{marginTop:"20px"},onClick:y,children:"Sign in"})]}),t.secretKey&&Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{style:{marginTop:"20px"},children:["Using access key to make a function call:",Object(p.jsx)("div",{style:{marginTop:"10px"},children:Object(p.jsx)("button",{style:{marginLeft:"10px"},onClick:S,children:"Say Hi!"})})]}),Object(p.jsxs)("div",{style:{marginTop:"20px"},children:["Make a view function call:",Object(p.jsxs)("div",{style:{marginTop:"10px"},children:[Object(p.jsx)("button",{style:{marginLeft:"10px"},onClick:k,children:"Who is the last one to Say Hi!"}),!!m&&Object(p.jsxs)("div",{style:{marginTop:"10px"},children:["The last one is: ",m]})]})]}),Object(p.jsxs)("div",{style:{marginTop:"20px"},children:["Request Use to confirm:",Object(p.jsxs)("div",{style:{marginTop:"10px"},children:[Object(p.jsx)("button",{style:{marginLeft:"10px"},onClick:T,children:"Send NEAR"}),Object(p.jsx)("button",{style:{marginLeft:"10px"},onClick:A,children:"Swap NEAR to wNEAR"}),Object(p.jsx)("button",{style:{marginLeft:"10px"},onClick:I,children:"Send wNEAR"})]})]}),Object(p.jsxs)("div",{style:{marginTop:"20px"},children:["Request Use to confirm (multiple actions):",Object(p.jsx)("div",{style:{marginTop:"10px"},children:Object(p.jsx)("button",{style:{marginLeft:"10px"},onClick:C,children:"Swap wNEAR and Send"})})]}),Object(p.jsxs)("div",{style:{marginTop:"20px"},children:["Request Use to confirm (multiple transactions):",Object(p.jsx)("div",{style:{marginTop:"10px"},children:Object(p.jsx)("button",{style:{marginLeft:"10px"},onClick:R,children:"Swap wNEAR and Send"})})]})]})]})},j=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,129)).then((function(n){var t=n.getCLS,r=n.getFID,s=n.getFCP,a=n.getLCP,c=n.getTTFB;t(e),r(e),s(e),a(e),c(e)}))};c.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(x,{})}),document.getElementById("root")),j()},63:function(e,n,t){},70:function(e,n){},80:function(e,n){},98:function(e,n){}},[[128,1,2]]]);
//# sourceMappingURL=main.08f9896d.chunk.js.map